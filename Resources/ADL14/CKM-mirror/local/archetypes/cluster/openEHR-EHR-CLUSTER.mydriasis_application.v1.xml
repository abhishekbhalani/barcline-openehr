<?xml version="1.0" encoding="UTF-8"?>
<archetype xmlns="http://schemas.openehr.org/v1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <original_language>
    <terminology_id>
      <value>ISO_639-1</value>
    </terminology_id>
    <code_string>es</code_string>
  </original_language>
  <is_controlled>false</is_controlled>
  <description>
    <original_author id="email">aitor.eguzkiza@unavarra.es</original_author>
    <original_author id="organisation">Universidad Pública de Navarra - Complejo Hospitalario de Navarra</original_author>
    <original_author id="name">Aitor Eguzkitza</original_author>
    <original_author id="date">2014-05-22</original_author>
    <lifecycle_state>AuthorDraft</lifecycle_state>
    <other_details id="MD5-CAM-1.0.1">489D59842CF7F0DDDFF1DD139B02F2AB</other_details>
    <details>
      <language>
        <terminology_id>
          <value>ISO_639-1</value>
        </terminology_id>
        <code_string>es</code_string>
      </language>
      <purpose>Registrar las características de dilatación en la pupila, si se aplica midriasis.</purpose>
      <use />
      <misuse />
      <copyright>© openEHR Foundation</copyright>
    </details>
    <details>
      <language>
        <terminology_id>
          <value>ISO_639-1</value>
        </terminology_id>
        <code_string>en</code_string>
      </language>
      <purpose>Register the characteristics of pupil's dilation if mydriasis is applied.</purpose>
      <keywords>Mydriasis</keywords>
      <use>*(es)</use>
      <misuse>*(es)</misuse>
      <copyright>© openEHR Foundation</copyright>
    </details>
  </description>
  <translations>
    <language>
      <terminology_id>
        <value>ISO_639-1</value>
      </terminology_id>
      <code_string>en</code_string>
    </language>
    <author id="name">?</author>
  </translations>
  <archetype_id>
    <value>openEHR-EHR-CLUSTER.mydriasis_application.v1</value>
  </archetype_id>
  <adl_version>1.4</adl_version>
  <concept>at0000</concept>
  <definition>
    <rm_type_name>CLUSTER</rm_type_name>
    <occurrences>
      <lower_included>true</lower_included>
      <upper_included>true</upper_included>
      <lower_unbounded>false</lower_unbounded>
      <upper_unbounded>false</upper_unbounded>
      <lower>1</lower>
      <upper>1</upper>
    </occurrences>
    <node_id>at0000</node_id>
    <attributes xsi:type="C_MULTIPLE_ATTRIBUTE">
      <rm_attribute_name>items</rm_attribute_name>
      <existence>
        <lower_included>true</lower_included>
        <upper_included>true</upper_included>
        <lower_unbounded>false</lower_unbounded>
        <upper_unbounded>false</upper_unbounded>
        <lower>1</lower>
        <upper>1</upper>
      </existence>
      <children xsi:type="C_COMPLEX_OBJECT">
        <rm_type_name>ELEMENT</rm_type_name>
        <occurrences>
          <lower_included>true</lower_included>
          <upper_included>true</upper_included>
          <lower_unbounded>false</lower_unbounded>
          <upper_unbounded>false</upper_unbounded>
          <lower>0</lower>
          <upper>1</upper>
        </occurrences>
        <node_id>at0008</node_id>
        <attributes xsi:type="C_SINGLE_ATTRIBUTE">
          <rm_attribute_name>value</rm_attribute_name>
          <existence>
            <lower_included>true</lower_included>
            <upper_included>true</upper_included>
            <lower_unbounded>false</lower_unbounded>
            <upper_unbounded>false</upper_unbounded>
            <lower>1</lower>
            <upper>1</upper>
          </existence>
          <children xsi:type="C_COMPLEX_OBJECT">
            <rm_type_name>DV_BOOLEAN</rm_type_name>
            <occurrences>
              <lower_included>true</lower_included>
              <upper_included>true</upper_included>
              <lower_unbounded>false</lower_unbounded>
              <upper_unbounded>false</upper_unbounded>
              <lower>1</lower>
              <upper>1</upper>
            </occurrences>
            <node_id />
            <attributes xsi:type="C_SINGLE_ATTRIBUTE">
              <rm_attribute_name>value</rm_attribute_name>
              <existence>
                <lower_included>true</lower_included>
                <upper_included>true</upper_included>
                <lower_unbounded>false</lower_unbounded>
                <upper_unbounded>false</upper_unbounded>
                <lower>1</lower>
                <upper>1</upper>
              </existence>
              <children xsi:type="C_PRIMITIVE_OBJECT">
                <rm_type_name>BOOLEAN</rm_type_name>
                <occurrences>
                  <lower_included>true</lower_included>
                  <upper_included>true</upper_included>
                  <lower_unbounded>false</lower_unbounded>
                  <upper_unbounded>false</upper_unbounded>
                  <lower>1</lower>
                  <upper>1</upper>
                </occurrences>
                <node_id />
                <item xsi:type="C_BOOLEAN">
                  <true_valid>true</true_valid>
                  <false_valid>true</false_valid>
                </item>
              </children>
            </attributes>
          </children>
        </attributes>
      </children>
      <children xsi:type="C_COMPLEX_OBJECT">
        <rm_type_name>ELEMENT</rm_type_name>
        <occurrences>
          <lower_included>true</lower_included>
          <upper_included>true</upper_included>
          <lower_unbounded>false</lower_unbounded>
          <upper_unbounded>false</upper_unbounded>
          <lower>0</lower>
          <upper>1</upper>
        </occurrences>
        <node_id>at0014</node_id>
        <attributes xsi:type="C_SINGLE_ATTRIBUTE">
          <rm_attribute_name>value</rm_attribute_name>
          <existence>
            <lower_included>true</lower_included>
            <upper_included>true</upper_included>
            <lower_unbounded>false</lower_unbounded>
            <upper_unbounded>false</upper_unbounded>
            <lower>1</lower>
            <upper>1</upper>
          </existence>
          <children xsi:type="C_DV_QUANTITY">
            <rm_type_name>DV_QUANTITY</rm_type_name>
            <occurrences>
              <lower_included>true</lower_included>
              <upper_included>true</upper_included>
              <lower_unbounded>false</lower_unbounded>
              <upper_unbounded>false</upper_unbounded>
              <lower>1</lower>
              <upper>1</upper>
            </occurrences>
            <node_id />
            <assumed_value>
              <magnitude>0.0</magnitude>
              <units>mm</units>
              <precision>1</precision>
            </assumed_value>
            <property>
              <terminology_id>
                <value>openehr</value>
              </terminology_id>
              <code_string>122</code_string>
            </property>
            <list>
              <magnitude>
                <lower_included>true</lower_included>
                <upper_included>true</upper_included>
                <lower_unbounded>false</lower_unbounded>
                <upper_unbounded>false</upper_unbounded>
                <lower>0.0</lower>
                <upper>3.0</upper>
              </magnitude>
              <precision>
                <lower_included>true</lower_included>
                <upper_included>true</upper_included>
                <lower_unbounded>false</lower_unbounded>
                <upper_unbounded>false</upper_unbounded>
                <lower>1</lower>
                <upper>1</upper>
              </precision>
              <units>mm</units>
            </list>
          </children>
        </attributes>
      </children>
      <children xsi:type="C_COMPLEX_OBJECT">
        <rm_type_name>ELEMENT</rm_type_name>
        <occurrences>
          <lower_included>true</lower_included>
          <upper_included>true</upper_included>
          <lower_unbounded>false</lower_unbounded>
          <upper_unbounded>false</upper_unbounded>
          <lower>0</lower>
          <upper>1</upper>
        </occurrences>
        <node_id>at0003</node_id>
        <attributes xsi:type="C_SINGLE_ATTRIBUTE">
          <rm_attribute_name>value</rm_attribute_name>
          <existence>
            <lower_included>true</lower_included>
            <upper_included>true</upper_included>
            <lower_unbounded>false</lower_unbounded>
            <upper_unbounded>false</upper_unbounded>
            <lower>1</lower>
            <upper>1</upper>
          </existence>
          <children xsi:type="C_COMPLEX_OBJECT">
            <rm_type_name>DV_TEXT</rm_type_name>
            <occurrences>
              <lower_included>true</lower_included>
              <upper_included>true</upper_included>
              <lower_unbounded>false</lower_unbounded>
              <upper_unbounded>false</upper_unbounded>
              <lower>1</lower>
              <upper>1</upper>
            </occurrences>
            <node_id />
          </children>
        </attributes>
      </children>
      <children xsi:type="C_COMPLEX_OBJECT">
        <rm_type_name>ELEMENT</rm_type_name>
        <occurrences>
          <lower_included>true</lower_included>
          <upper_included>true</upper_included>
          <lower_unbounded>false</lower_unbounded>
          <upper_unbounded>false</upper_unbounded>
          <lower>0</lower>
          <upper>1</upper>
        </occurrences>
        <node_id>at0001</node_id>
        <attributes xsi:type="C_SINGLE_ATTRIBUTE">
          <rm_attribute_name>value</rm_attribute_name>
          <existence>
            <lower_included>true</lower_included>
            <upper_included>true</upper_included>
            <lower_unbounded>false</lower_unbounded>
            <upper_unbounded>false</upper_unbounded>
            <lower>1</lower>
            <upper>1</upper>
          </existence>
          <children xsi:type="C_COMPLEX_OBJECT">
            <rm_type_name>DV_CODED_TEXT</rm_type_name>
            <occurrences>
              <lower_included>true</lower_included>
              <upper_included>true</upper_included>
              <lower_unbounded>false</lower_unbounded>
              <upper_unbounded>false</upper_unbounded>
              <lower>1</lower>
              <upper>1</upper>
            </occurrences>
            <node_id />
            <attributes xsi:type="C_SINGLE_ATTRIBUTE">
              <rm_attribute_name>defining_code</rm_attribute_name>
              <existence>
                <lower_included>true</lower_included>
                <upper_included>true</upper_included>
                <lower_unbounded>false</lower_unbounded>
                <upper_unbounded>false</upper_unbounded>
                <lower>1</lower>
                <upper>1</upper>
              </existence>
              <children xsi:type="C_CODE_PHRASE">
                <rm_type_name>CODE_PHRASE</rm_type_name>
                <occurrences>
                  <lower_included>true</lower_included>
                  <upper_included>true</upper_included>
                  <lower_unbounded>false</lower_unbounded>
                  <upper_unbounded>false</upper_unbounded>
                  <lower>1</lower>
                  <upper>1</upper>
                </occurrences>
                <node_id />
                <assumed_value>
                  <terminology_id>
                    <value>local</value>
                  </terminology_id>
                  <code_string>at0013</code_string>
                </assumed_value>
                <terminology_id>
                  <value>local</value>
                </terminology_id>
                <code_list>at0009</code_list>
                <code_list>at0010</code_list>
                <code_list>at0011</code_list>
                <code_list>at0012</code_list>
                <code_list>at0013</code_list>
              </children>
            </attributes>
          </children>
        </attributes>
      </children>
      <children xsi:type="ARCHETYPE_SLOT">
        <rm_type_name>CLUSTER</rm_type_name>
        <occurrences>
          <lower_included>true</lower_included>
          <upper_included>true</upper_included>
          <lower_unbounded>false</lower_unbounded>
          <upper_unbounded>false</upper_unbounded>
          <lower>0</lower>
          <upper>1</upper>
        </occurrences>
        <node_id>at0002</node_id>
        <includes>
          <string_expression>archetype_id/value matches {/openEHR-EHR-CLUSTER\.medication_amount(-[a-zA-Z0-9_]+)*\.v1/}</string_expression>
          <expression xsi:type="EXPR_BINARY_OPERATOR">
            <type>Boolean</type>
            <operator>2007</operator>
            <precedence_overridden>false</precedence_overridden>
            <left_operand xsi:type="EXPR_LEAF">
              <type>String</type>
              <item xsi:type="xsd:string">archetype_id/value</item>
              <reference_type>attribute</reference_type>
            </left_operand>
            <right_operand xsi:type="EXPR_LEAF">
              <type>C_STRING</type>
              <item xsi:type="C_STRING">
                <pattern>openEHR-EHR-CLUSTER\.medication_amount(-[a-zA-Z0-9_]+)*\.v1</pattern>
              </item>
              <reference_type>constraint</reference_type>
            </right_operand>
          </expression>
        </includes>
        <excludes>
          <string_expression>archetype_id/value matches {/.*/}</string_expression>
          <expression xsi:type="EXPR_BINARY_OPERATOR">
            <type>Boolean</type>
            <operator>2007</operator>
            <precedence_overridden>false</precedence_overridden>
            <left_operand xsi:type="EXPR_LEAF">
              <type>String</type>
              <item xsi:type="xsd:string">archetype_id/value</item>
              <reference_type>attribute</reference_type>
            </left_operand>
            <right_operand xsi:type="EXPR_LEAF">
              <type>C_STRING</type>
              <item xsi:type="C_STRING">
                <pattern>.*</pattern>
              </item>
              <reference_type>constraint</reference_type>
            </right_operand>
          </expression>
        </excludes>
      </children>
      <children xsi:type="C_COMPLEX_OBJECT">
        <rm_type_name>ELEMENT</rm_type_name>
        <occurrences>
          <lower_included>true</lower_included>
          <upper_included>true</upper_included>
          <lower_unbounded>false</lower_unbounded>
          <upper_unbounded>false</upper_unbounded>
          <lower>0</lower>
          <upper>1</upper>
        </occurrences>
        <node_id>at0004</node_id>
        <attributes xsi:type="C_SINGLE_ATTRIBUTE">
          <rm_attribute_name>value</rm_attribute_name>
          <existence>
            <lower_included>true</lower_included>
            <upper_included>true</upper_included>
            <lower_unbounded>false</lower_unbounded>
            <upper_unbounded>false</upper_unbounded>
            <lower>1</lower>
            <upper>1</upper>
          </existence>
          <children xsi:type="C_COMPLEX_OBJECT">
            <rm_type_name>DV_TEXT</rm_type_name>
            <occurrences>
              <lower_included>true</lower_included>
              <upper_included>true</upper_included>
              <lower_unbounded>false</lower_unbounded>
              <upper_unbounded>false</upper_unbounded>
              <lower>1</lower>
              <upper>1</upper>
            </occurrences>
            <node_id />
          </children>
        </attributes>
      </children>
      <cardinality>
        <is_ordered>false</is_ordered>
        <is_unique>false</is_unique>
        <interval>
          <lower_included>true</lower_included>
          <lower_unbounded>false</lower_unbounded>
          <upper_unbounded>true</upper_unbounded>
          <lower>1</lower>
        </interval>
      </cardinality>
    </attributes>
  </definition>
  <ontology>
    <term_definitions language="es">
      <items code="at0000">
        <items id="text">Aplicación de midriasis</items>
        <items id="description">Define las características del procedimiento midriático cuando se lleva a cabo sobre un paciente.</items>
      </items>
      <items code="at0001">
        <items id="text">Agente midriático</items>
        <items id="description">Nombre químico del compuesto empleado para llevar a cabo la midriasis.</items>
        <items id="comment">Coincide con el atributo DICOM (0022,0058). Los valores permitidos están definidos por el estándar DICOM (PS 3.16) dentro de la tabla con el ID de contexto o CID 4208 (Mydriatic agent).</items>
      </items>
      <items code="at0002">
        <items id="text">Cantidad</items>
        <items id="description">La cantidad del fármaco utilizado durante la midriasis.</items>
      </items>
      <items code="at0003">
        <items id="text">Método adminsitración</items>
        <items id="description">Especifica el método por el cual se aplica el fármaco midriático (p.ej. vía nebulizador o gotas).</items>
      </items>
      <items code="at0004">
        <items id="text">Comentarios</items>
        <items id="description">Descripción de otros aspectos de interés para el procedimiento midriático.</items>
      </items>
      <items code="at0008">
        <items id="text">Dilatación de pupila</items>
        <items id="description">Identifica si las pupilas del paciente fueron farmacológicamente dilatadas para llevar a cabo la adquisición.</items>
        <items id="comment">Coincide con el atributo DICOM (0022,000D).</items>
      </items>
      <items code="at0009">
        <items id="text">*Atropine(es)</items>
        <items id="description">**(es)</items>
      </items>
      <items code="at0010">
        <items id="text">*Homatropine(es)</items>
        <items id="description">**(es)</items>
      </items>
      <items code="at0011">
        <items id="text">*Cyclopentolate(es)</items>
        <items id="description">**(es)</items>
      </items>
      <items code="at0012">
        <items id="text">*Cyclopentolate(es)</items>
        <items id="description">**(es)</items>
      </items>
      <items code="at0013">
        <items id="text">*Tropicamide(es)</items>
        <items id="description">**(es)</items>
      </items>
      <items code="at0014">
        <items id="text">Grado de dilatación</items>
        <items id="description">El grado de la dilatación en mm.</items>
        <items id="comment">Coincide con el atributo DICOM (0022,000E).</items>
      </items>
    </term_definitions>
    <term_definitions language="en">
      <items code="at0000">
        <items id="text">Mydriasis application</items>
        <items id="description">Defines the characteristics of mydriasis procedure when carried out on a patient.</items>
      </items>
      <items code="at0001">
        <items id="text">Mydriatic agent</items>
        <items id="description">Chemical name of the compound used to apply midriasis.</items>
        <items id="comment">Matches to DICOM (0022,0058) attribute. Values permitted are defined by DICOM standard (PS 3.16) inside the table with Context ID  4208 (Mydriatic agent)</items>
      </items>
      <items code="at0002">
        <items id="text">Quantity</items>
        <items id="description">The quantity of drug used during the mydriasis.</items>
      </items>
      <items code="at0003">
        <items id="text">Mydriatic delivery method</items>
        <items id="description">The method of delivery if this should be specified (e.g. via a nebuliser or drops).</items>
      </items>
      <items code="at0004">
        <items id="text">Comments</items>
        <items id="description">Other comments of interest about mydriasis procedure.</items>
      </items>
      <items code="at0008">
        <items id="text">Pupil dilated</items>
        <items id="description">Whether or not the patient’s pupils were pharmacologically dilated for the current acquisition.</items>
        <items id="comment">Matches to DICOM (0022,000D) attribute.</items>
      </items>
      <items code="at0009">
        <items id="text">Atropine</items>
        <items id="description">*</items>
      </items>
      <items code="at0010">
        <items id="text">Homatropine</items>
        <items id="description">*</items>
      </items>
      <items code="at0011">
        <items id="text">Cyclopentolate</items>
        <items id="description">*</items>
      </items>
      <items code="at0012">
        <items id="text">Phenylephrine</items>
        <items id="description">*</items>
      </items>
      <items code="at0013">
        <items id="text">Tropicamide</items>
        <items id="description">*</items>
      </items>
      <items code="at0014">
        <items id="text">Degree of dilation</items>
        <items id="description">The degree of the dilation in mm.</items>
        <items id="comment">Matches to DICOM (0022,000E) attribute.</items>
      </items>
    </term_definitions>
    <term_bindings terminology="SNOMED-CT">
      <items code="at0001">
        <value>
          <terminology_id>
            <value>SNOMED-CT</value>
          </terminology_id>
          <code_string>33682005</code_string>
        </value>
      </items>
      <items code="at0009">
        <value>
          <terminology_id>
            <value>SNOMED-CT</value>
          </terminology_id>
          <code_string>349947003</code_string>
        </value>
      </items>
      <items code="at0010">
        <value>
          <terminology_id>
            <value>SNOMED-CT</value>
          </terminology_id>
          <code_string>430036003</code_string>
        </value>
      </items>
      <items code="at0011">
        <value>
          <terminology_id>
            <value>SNOMED-CT</value>
          </terminology_id>
          <code_string>8348002</code_string>
        </value>
      </items>
      <items code="at0012">
        <value>
          <terminology_id>
            <value>SNOMED-CT</value>
          </terminology_id>
          <code_string>386693003</code_string>
        </value>
      </items>
      <items code="at0013">
        <value>
          <terminology_id>
            <value>SNOMED-CT</value>
          </terminology_id>
          <code_string>9190005</code_string>
        </value>
      </items>
    </term_bindings>
  </ontology>
</archetype>

